<!DOCTYPE html>
<meta charset="utf-8">
<head>
   <link href="http://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
   <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
   <script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
   <script src="http://akless.github.io/ccm-developer/libs/ccm.min.js"></script>
   <style>
	h1 {
		text-align: center;
	}

	h2 {
		text-align: center;
	}

	#ccm-result {
		border: solid;
		border-color: lightblue;
		margin: auto;
		width: 500px;
		height: 500px;
		overflow:auto;
	}

	.componentSelector {
		list-style-type: none;
		border : solid;
		margin: auto; 
		padding: 0px;
		height: 100px;
		overflow: auto;
		cursor : pointer;
	}

	.componentSelector li {
		margin: 0 3px 3px 3px;
		padding: 0.4em;
		padding-left: 1.5em;
		font-size: 17px;
		height: 16px;
	}

	#description {
		list-style-type: none;
		border : solid;
		margin: auto; 
		padding: 0px;
		height: 100px;
		overflow: auto;
	}

	.component {
		background: #cedc98;
		border: 1px solid #DDDDDD;
		color: #333333;
	}
		
	#container {
		border: solid;
		border-color: lightblue;
		margin: auto;
		height: 250px;
		overflow:auto;
	}
      
   </style>
</head>
<body>
<div id="content">
A widow had two daughters; one was pretty and industrious , the other was ugly and lazy . And as the ugly one was her own daughter , she loved her much the best , and the pretty one was made to do all the work , and be the drudge of the house . Every day the poor girl had to sit by a well on the high road and spin until her fingers bled . Now it happened once that as the spindle was bloody , she dipped it into the well to wash it; but it slipped out of her hand and fell in . Then she began to cry , and ran to her step-mother , and told her of her misfortune; and her stepmother scolded her without mercy , and said in her rage: "As you have let the spindle fall in , you must go and fetch it out again ! " Then the girl went back again to the well , not knowing what to do , and in the despair of her heart she jumped down into the well the same way the spindle had gone . After that she knew nothing; and when she came to herself she was in a beautiful meadow , and the sun was shining on the flowers that grew round her . And she walked on through the meadow until she came to a baker"s oven that was full of bread; and the bread called out to her: "Oh , take me out , take me out , or I shall burn; I am baked enough already ! " Then she drew near , and with the baker"s peel she took out all the loaves one after the other . And she went farther on till she came to a tree weighed down with apples , and it called out to her: "Oh , shake me , shake me , we apples are all of us ripe ! " Then she shook the tree until the apples fell like rain , and she shook until there were no more to fall; and when she had gathered them together in a heap , she went on farther . At last she came to a little house , and an old woman was peeping out of it , but she had such great teeth that the girl was terrified and about to run away , only the old woman called her back . "What are you afraid of , my dear child ? Come and live with me , and if you do the house-work well and orderly , things shall go well with you . You must take great pains to make my bed well , and shake it up thoroughly , so that the feathers fly about , and then in the world it snows , for I am Mother Hulda . " As the old woman spoke so kindly , the girl took courage , consented , and went to her work . She did everything to the old woman"s satisfaction , and shook the bed with such a will that the feathers flew about like snow-flakes: and so she led a good life , had never a cross word , but boiled and roast meat every day . When she had lived a long time with Mother Hulda , she began to feel sad , not knowing herself what ailed her; at last she began to think she must be home-sick; and although she was a thousand times better off than at home where she was , yet she had a great longing to go home . At last she said to her mistress: "I am homesick , and although I am very well off here , I cannot stay any longer; I must go back to my own home . " Mother Hulda answered: "It pleases me well that you should wish to go home , and , as you have served me faithfully , I will undertake to send you there ! " She took her by the hand and led her to a large door standing open , and as she was passing through it there fell upon her a heavy shower of gold , and the gold hung all about her , so that she was covered with it . "All this is yours , because you have been so industrious , " said Mother Hulda; and , besides that , she returned to her her spindle , the very same that she had dropped in the well . And then the door was shut again , and the girl found herself back again in the world , not far from her mother"s house; and as she passed through the yard the cock stood on the top of the well and cried: "Cock-a-doodle doo ! Our golden girl has come home too ! "
Then she went in to her mother , and as she had returned covered with gold she was well received .
So the girl related all her history , and what had happened to her , and when the mother heard how she came to have such great riches she began to wish that her ugly and idle daughter might have the same good fortune . So she sent her to sit by the well and spin; and in order to make her spindle bloody she put her hand into the thorn hedge . Then she threw the spindle into the well , and jumped in herself . She found herself , like her sister , in the beautiful meadow , and followed the same path , and when she came to the baker"s oven , the bread cried out: "Oh , take me out , take me out , or I shall burn; I am quite done already ! " But the lazy-bones answered: "I have no desire to black my hands , " and went on farther . Soon she came to the apple-tree , who called out: "Oh , shake me , shake me , we apples are all of us ripe ! " But she answered: "That is all very fine; suppose one of you should fall on my head , " and went on farther . When she came to Mother Hulda"s house she did not feel afraid , as she knew beforehand of her great teeth , and entered into her service at once . The first day she put her hand well to the work , and was industrious , and did everything Mother Hulda bade her , because of the gold she expected; but the second day she began to be idle , and the third day still more so , so that she would not get up in the morning . Neither did she make Mother Hulda"s bed as it ought to have been made , and did not shake it for the feathers to fly about . So that Mother Hulda soon grew tired of her , and gave her warning , at which the lazy thing was well pleased , and thought that now the shower of gold was coming; so Mother Hulda led her to the door , and as she stood in the doorway , instead of the shower of gold a great kettle full of pitch was emptied over her . "That is the reward for your service , " said Mother Hulda , and shut the door . So the lazy girl came home all covered with pitch , and the cock on the top of the well seeing her , cried: "Cock-a-doodle doo ! Our dirty girl has come home too ! "
And the pitch remained sticking to her fast , and never , as long as she lived , could it be got off.
</div>
<div id="container" hidden=false>
	<table>
	
	<td>
	<h3>Select Components</h3>
	<ol id="unusedComponents" class="componentSelector">
	  <li class="component" value="ccm-postagger" >POS-Tagger</li>
	  <li class="component" value="ccm-stemmer" >Stemmer</li>
	  <li class="component" value="ccm-cooccurrence">Cooccurrence</li>
	  <li class="component" value="ccm-pagerank">PageRank</li>
	</ol>
	</td>
	
	<td>
	<h3>Selected Components</h3>
	<ol id="usedComponents" class="componentSelector"></ol>
	</td>
	
	<td>
	<h3>Description</h3>
	<textarea id="description" disabled=true ></textarea>
	</td>
	
   </table>
   <button id="ccm-render-button">render</button>
</div>
	<h2>Result</h2>
	<div id="ccm-result" class="component-result"></div>
   
</body>
<script>

$("body").prepend("<div>bla</div>");
//$("container").animate({hidden : false}, 5000);

/*
var color_red = '#ff6061';
var color_green = '#006639';
var color_blue = '#0089b7';

var storyStore = ccm.store();
var selectedStory = "text1";

$("#unusedComponents").sortable({
	connectWith: "#usedComponents"
});

$("#usedComponents").sortable({
	connectWith: "#unusedComponents"
});

$(".component").click(function() {
	$("#description").html(comps[$(this).attr("value")].dependencies);
});

$("#ccm-render-button").click(function() {
	var anchorOffset = document.getSelection().anchorOffset;
	var focusOffset = document.getSelection().focusOffset;
	var text = document.getSelection().focusNode.textContent.slice(anchorOffset, focusOffset);
	storyStore.set({key : selectedStory, "content" : [text]});
	
	var old_src_key = "content";
	$("#usedComponents li").each(function() {
		var name = $(this).attr('value');
		var component = comps[name];
		component.config.store_src_key = old_src_key;
		component.config.store_dst_key = name;
		old_src_key = name;
		selectedComponents.push(component);
	});
	
	if(selectedComponents.length > 0) {
		selectedComponents[selectedComponents.length-1].config.render_element = $('#ccm-result');
		ccm.render(selectedComponents[0]['path'],selectedComponents[0]['config'], renderNext);
	}
});

var comps = new Object();

	comps['ccm-stemmer'] = {
		path : './components/ccm.stemmer.js',
		config : {
			store_dataset: selectedStory,
			store : storyStore
		},
		dependencies: ["raw text"]
	};

	comps['ccm-postagger'] = {
		path : './components/ccm.postagger.js',
		config : {
			store_dataset: selectedStory,
			color_noun : color_red,
			color_adjective : color_green,
			color_verb : color_blue,
			store : storyStore
		},
		dependencies: ["raw text"]
	};
	
	comps['ccm-cooccurrence'] = {
		path : './components/ccm.cooccurrence.js',
		config : {
			coocc_windowSize : 2,
			coocc_threshold : 1,
			coocc_wordtypes : ['nouns', 'adjectives'],
			store_dataset: selectedStory,
			color_noun : color_red,
			color_adjective : color_green,
			color_verb : color_blue,
			store : storyStore
		},
		dependencies: ["pos-tagged text"]
	};

	comps['ccm-pagerank'] = {
		path : './components/ccm.pagerank.js',
		config : {
			store_dataset: selectedStory,
			store : storyStore
		},
		dependencies: ["adjacency graph (cooccurrence/tf-idf)"]
	};


var rendercount = 0;
var selectedComponents = [];

var renderNext = function() {
	rendercount++;
	if(rendercount < selectedComponents.length) {
		ccm.render(selectedComponents[rendercount]['path'],selectedComponents[rendercount]['config'],renderNext);
	}
}
*/
</script>
</html>
